(function(t){function e(e){for(var r,c,o=e[0],s=e[1],l=e[2],u=0,h=[];u<o.length;u++)c=o[u],Object.prototype.hasOwnProperty.call(i,c)&&i[c]&&h.push(i[c][0]),i[c]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r]);f&&f(e);while(h.length)h.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,o=1;o<n.length;o++){var s=n[o];0!==i[s]&&(r=!1)}r&&(a.splice(e--,1),t=c(c.s=n[0]))}return t}var r={},i={app:0},a=[];function c(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=t,c.c=r,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)c.d(n,r,function(e){return t[e]}.bind(null,r));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],s=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var f=s;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},1369:function(t,e,n){"use strict";n("dcc1")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),i=n("9ae7"),a=(n("86ea"),{id:"app"});function c(t,e,n,i,c,o){var s=Object(r["resolveComponent"])("my-canvas");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",a,[Object(r["createVNode"])(s)])}var o={width:"600",height:"600",ref:"canvas",class:"canvas"};function s(t,e,n,i,a,c){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",null,[Object(r["createElementVNode"])("canvas",o,null,512)])}var l,f=n("d4ec"),u=n("bee2"),h=(n("d3b7"),n("159b"),n("b680"),n("cb29"),n("1393"),{name:"mycanvas",data:function(){return{ctx:null,time:null,alist:[],list:[.2,.2,.3,.3],listTip:["第一","第二","第三","第四"],bigsize:80,num:5}},methods:{getdata:function(){var t=this;fetch("http://101.132.242.117/api/rand.php?num="+this.num,{method:"GET"}).then((function(t){return t.json()})).then((function(e){var n=0;e.forEach((function(t,r){n+=t,r==e.length-1&&e.forEach((function(t,r){e[r]=(t/n).toFixed(3)}))})),t.list=e}))},_creatarc:function(t){var e=this,n=function(){function n(e){Object(f["a"])(this,n),this.flag=!1,this.x=t[0],this.y=t[1],this.r=t[2],this.star=t[3],this.end=t[4],this.color="rgb("+Math.floor(256*Math.random())+","+Math.floor(256*Math.random())+","+Math.floor(256*Math.random())+")"}return Object(u["a"])(n,[{key:"arc",value:function(){e.ctx.beginPath(),e.ctx.moveTo(this.x,this.y),e.ctx.arc(this.x,this.y,this.r,this.star,this.end,!1),e.ctx.fillStyle=this.color,e.ctx.fill()}}]),n}();return new n},arc:function(){for(var t=0,e=0;e<this.list.length;e++){var n=2*Math.PI*this.list[e],r=this._creatarc([300,300,70,t,n+t]);t+=n,r.index=e,r.title=(100*this.list[e]).toFixed(1)+"%",this.alist.push(r)}},draw:function(){this.ctx.clearRect(0,0,1e4,1e4),this.alist.forEach((function(t){t.arc()}))},ispos:function(t){var e=this.ctx.getImageData(t.offsetX,t.offsetY,1,1);if(0!=e.data[0]&&0!=e.data[1]&&0!=e.data[2]){for(var n="rgb("+e.data[0]+","+e.data[1]+","+e.data[2]+")",r=0;r<this.alist.length;r++)if(n==this.alist[r].color)return r}else if(0==e.data[0]&&0==e.data[1]&&0==e.data[2])return-1},change:function(t,e,n,r){(-1!=t||void 0!=t)&&t>=0&&0==r.alist[t].flag?(clearInterval(this.time),r.alist.forEach((function(t){t.flag=!1,t.r=70})),r.alist[t].flag=!0,r.big(t,e,n,r)):-1!=t&&void 0!=t||(l.style.cursor="auto",r.alist.forEach((function(t,e){t.r>70&&(clearInterval(r.time),t.flag=!1,r.ctx.clearRect(0,0,1e4,1e4),t.r=70,r.draw())})))},big:function(t,e,n,r){l.style.cursor="pointer",r.time=setInterval((function(){r.alist[t].r=r.alist[t].r+(r.bigsize-70)/10,r.ctx.clearRect(0,0,1e4,1e4),r.draw(),r.ctx.fillStyle="rgba(0,0,0,.4)",r.ctx.fillRect(e+20,n,60,30),r.ctx.fillStyle="white",r.ctx.font="16px 微软雅黑",r.ctx.fillText(r.alist[t].title,e+30,n+20),r.alist[t].r>=r.bigsize&&(r.alist[t].r=r.bigsize,clearInterval(r.time))}),18)}},created:function(){this.getdata()},mounted:function(){function t(t){var e=this.ispos(t,this);this.change(e,t.offsetX,t.offsetY,this)}l=this.$refs.canvas,this.ctx=l.getContext("2d"),this.ctx.fillStyle="red",this.ctx.textAlgin="center",this.ctx.font="15px 微软雅黑",this.ctx.fillText("正在获取数据中....",l.width/2-80,l.height/2),l.addEventListener("mousemove",t.bind(this))},watch:{list:{handler:function(t,e){this.arc(),this.draw()}}}}),d=(n("1369"),n("6b0d")),p=n.n(d);const v=p()(h,[["render",s]]);var b=v,g={name:"App",components:{myCanvas:b}};const x=p()(g,[["render",c]]);var m=x;Object(r["createApp"])(m).use(i["a"]).mount("#app")},dcc1:function(t,e,n){}});
//# sourceMappingURL=app.751fca7b.js.map